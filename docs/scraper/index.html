<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/x-icon" href="../favicon.ico">
    <title>Software Design for Data Scientists</title>
    <link rel="stylesheet" href="../mccole.css">
    <link rel="stylesheet" href="../tango.css">
    <script>
      MathJax = {
        tex: {
          inlineMath: [['\\(', '\\)']]
        }
      };
    </script>
    <script
      type="text/javascript"
      id="MathJax-script"
      async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
    </script>
  </head>
  <body>
    <div class="row">
      <div class="column">
        <h2><a href="../">Software Design for Data Scientists</a></h2>
        <p>
          A modest introduction using Python
        </p>
        <ol class="toc-chapter">
  
  <li>
    <a href="../introduction/">
      Introduction
    </a>
  </li>
  
  <li>
    <a href="../toolkit/">
      A Modest Python Toolkit
    </a>
  </li>
  
  <li>
    <a href="../dataframe/">
      A Modest Dataframe
    </a>
  </li>
  
  <li>
    <a href="../scraper/">
      <strong>A Modest Web Scraper</strong>
    </a>
  </li>
  
  <li>
    <a href="../pipeline/">
      A Modest Pipeline Manager
    </a>
  </li>
  
  <li>
    <a href="../configuration/">
      A Modest Configuration Manager
    </a>
  </li>
  
  <li>
    <a href="../cache/">
      A Minimal Cache
    </a>
  </li>
  
  <li>
    <a href="../interpreter/">
      A Modest Interpreter
    </a>
  </li>
  
  <li>
    <a href="../unittest/">
      A Modest Unit Testing Framework
    </a>
  </li>
  
  <li>
    <a href="../build/">
      A Modest Build Manager
    </a>
  </li>
  
  <li>
    <a href="../reader/">
      A Modest CSV File Reader
    </a>
  </li>
  
  <li>
    <a href="../versioning/">
      A Modest Version Control System
    </a>
  </li>
  
  <li>
    <a href="../packaging/">
      A Modest Package Manager
    </a>
  </li>
  
  <li>
    <a href="../database/">
      A Modest Database
    </a>
  </li>
  
  <li>
    <a href="../binary/">
      A Modest Binary Storage System
    </a>
  </li>
  
  <li>
    <a href="../regexp/">
      A Modest Regular Expression Engine
    </a>
  </li>
  
  <li>
    <a href="../templating/">
      A Modest Page Templating System
    </a>
  </li>
  
  <li>
    <a href="../linter/">
      A Modest Code Checker
    </a>
  </li>
  
  <li>
    <a href="../server/">
      A Modest Web Server
    </a>
  </li>
  
  <li>
    <a href="../compiler/">
      A Modest Compiler
    </a>
  </li>
  
  <li>
    <a href="../conclusion/">
      Conclusion
    </a>
  </li>
  
</ol>
<ol class="toc-appendix">
  
  <li>
    <a href="../bibliography/">
      Bibliography
    </a>
  </li>
  
  <li>
    <a href="../syllabus/">
      Syllabus
    </a>
  </li>
  
  <li>
    <a href="../license/">
      License
    </a>
  </li>
  
  <li>
    <a href="../conduct/">
      Code of Conduct
    </a>
  </li>
  
  <li>
    <a href="../glossary/">
      Glossary
    </a>
  </li>
  
  <li>
    <a href="../links/">
      Links
    </a>
  </li>
  
  <li>
    <a href="../credits/">
      Credits
    </a>
  </li>
  
  <li>
    <a href="../contents/">
      Index
    </a>
  </li>
  
</ol>

      </div>
      <div class="column bordered">
        <main>
          <h1>A Modest Web Scraper</h1>
          
  

  

  
  <ul class="syllabus">
  
  <li markdown="1">The basics of HTML and CSS.</li>
  
  <li markdown="1">Finding things in web pages.</li>
  
  <li markdown="1">Getting pages from the web.</li>
  
  <li markdown="1">Using a work queue to manage search.</li>
  
  </ul>
  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  


          <p>This short lesson will show you how to build a fully functional web scraper.
We'll tackle the problem in three steps:
the structure of HTML,
how to find things in HTML pages,
and finally getting pages from the web.</p>
<h2 id="scraper-htmlcss">Section 4.1: HTML and CSS</h2>
<p>HTML is the standard way to represent documents for presentation in web browsers,
and CSS is the standard way to describe how it should look.
Both are more complicated than they should have been,
but in order to create web applications,
we need to understand a little of both.</p>
<p>An HTML document contains elements and text
(and possibly other things that we will ignore for now).
Elements are shown using tags:
an opening tag <code>&lt;tagname&gt;</code> shows where the element begins,
and a corresponding closing tag <code>&lt;/tagname&gt;</code> (with a leading slash) shows where it ends.
If there's nothing between the two, we can write <code>&lt;tagname/&gt;</code> (with a trailing slash).</p>
<p>A document's elements must form a tree,
i.e.,
they must be strictly nested.
This means that if Y starts inside X,
Y must end before X ends,
so <code>&lt;X&gt;…&lt;Y&gt;…&lt;/Y&gt;&lt;/X&gt;</code> is legal,
but <code>&lt;X&gt;…&lt;Y&gt;…&lt;/X&gt;&lt;/Y&gt;</code> is not.
Finally,
every document should have a single root element that encloses everything else,
although browsers aren't strict about enforcing this.
In fact,
most browsers are pretty relaxed about enforcing any kind of rules at all,
since most people don't obey them anyway.</p>
<p>The text in an HTML page is normal printable text.
However,
since <code>&lt;</code> and <code>&gt;</code> are used to show where tags start and end,
we must use escape sequences to represent them,
just as we use <code>\"</code> to represented a literal double-quote character
inside a double-quoted string in JavaScript.
In HTML,
escape sequences are written <code>&amp;name;</code>,
i.e.,
an ampersand, the name of the character, and a semi-colon.
A few common escape sequences are shown below:</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Escape Sequence</th>
<th>Character</th>
</tr>
</thead>
<tbody>
<tr>
<td>Less than</td>
<td><code>&amp;lt;</code></td>
<td>&lt;</td>
</tr>
<tr>
<td>Greater than</td>
<td><code>&amp;gt;</code></td>
<td>&gt;</td>
</tr>
<tr>
<td>Ampersand</td>
<td><code>&amp;amp;</code></td>
<td>&amp;</td>
</tr>
<tr>
<td>Copyright</td>
<td><code>&amp;copy;</code></td>
<td>©</td>
</tr>
<tr>
<td>Plus/minus</td>
<td><code>&amp;plusmn;</code></td>
<td>±</td>
</tr>
<tr>
<td>Micro</td>
<td><code>&amp;micro;</code></td>
<td>µ</td>
</tr>
</tbody>
</table>
<p>The first two are self-explanatory,
and <code>&amp;amp;</code> is needed so that we can write a literal ampersand
(just as <code>\\</code> is needed in JavaScript strings so that we can write a literal backslash).
<code>&amp;copy;</code>, <code>&amp;plusmn;</code>, and <code>&amp;micro;</code> are usually not needed any longer,
since most editors will allow us to put non-ASCII characters directly into documents these days,
but occasionally we will run into older or stricter systems.</p>
<p>An HTML page should have:</p>
<ul>
<li>a single <code>html</code> element that encloses everything else,</li>
<li>a single <code>head</code> element that contains information about the page, and</li>
<li>a single <code>body</code> element that contains the content to be displayed.</li>
</ul>
<p>It doesn't matter whether or how we indent the tags showing these elements and the content they contain,
but laying them out on separate lines
and indenting to show nesting
helps human readers.
Well-written pages also use comments, just like code:
these start with <code>&lt;!--</code> and end with <code>--&gt;</code>.
Unfortunately,
comments cannot be nested,
i.e.,
if you comment out a section of a page that already contains a comment,
the results are unpredictable.</p>
<p>Here's an empty HTML page with the structure described above:</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="cm">&lt;!-- description of page goes here --&gt;</span>
  <span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
    <span class="cm">&lt;!-- content of page goes here --&gt;</span>
  <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</code></pre></div>
<p class="continue">Nothing shows up if we open this in a browser,
so let's add a little content:</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>This text is displayed in the browser bar<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Displayed Content Starts Here<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>
      This course introduces core features of <span class="p">&lt;</span><span class="nt">em</span><span class="p">&gt;</span>JavaScript<span class="p">&lt;/</span><span class="nt">em</span><span class="p">&gt;</span>
      and shows where and how to use them.
    <span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
    <span class="cm">&lt;!-- The word &quot;JavaScript&quot; is in italics (emphasis) in the preceding paragraph. --&gt;</span>
  <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</code></pre></div>
<ul>
<li>
<p>The <code>title</code> element inside <code>head</code> gives the page a title.
    This is displayed in the browser bar when the page is open,
    but is <em>not</em> displayed as part of the page itself.</p>
</li>
<li>
<p>The <code>h1</code> element is a level-1 heading;
    we can use <code>h2</code>, <code>h3</code>, and so on to create sub-headings.</p>
</li>
<li>
<p>The <code>p</code> element is a paragraph.</p>
</li>
<li>
<p>Inside a heading or a paragraph,
    we can use <code>em</code> to <em>emphasize</em> text.
    We can also use <code>strong</code> to make text <strong>stronger</strong>.
    Tags like these are better than tags like <code>i</code> (for italics) or <code>b</code> (for bold)
    because they signal intention rather than forcing a particular layout.
    Someone who is visually impaired, or someone using a small-screen device,
    may want emphasis of various kinds displayed in different ways.</p>
</li>
</ul>
<p>Elements can be customized by giving them attributes,
which are written as <code>name="value"</code> pairs inside the element's opening tag.
Forr example:</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">h1</span> <span class="na">align</span><span class="o">=</span><span class="s">&quot;center&quot;</span><span class="p">&gt;</span>A Centered Heading<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</code></pre></div>
<p class="continue">centers the <code>h1</code> heading on the page, while:</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">p</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;disclaimer&quot;</span><span class="p">&gt;</span>This planet provided as-is.<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</code></pre></div>
<p class="continue">marks this paragraph as a disclaimer.
That doesn't mean anything special to HTML,
but as we'll see later,
we can define styles based on the <code>class</code> attributes of elements.</p>
<p>An attribute's name may appear at most once in any element,
just like a key can only appear once in any JavaScript object,
so <code>&lt;p align="left" align="right"&gt;…&lt;/p&gt;</code> is illegal.
If we want to give an attribute multiple values---for example,
if we want an element to have several classes---we put all the values in one string.
Unfortunately,
as the example below shows,
HTML is inconsistent about whether values should be separated by spaces or semi-colons:</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">p</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;disclaimer optional&quot;</span> <span class="na">style</span><span class="o">=</span><span class="s">&quot;color: blue; font-size: 200%;&quot;</span><span class="p">&gt;</span>
</code></pre></div>
<p>However they are separated,
values are supposed to be quoted,
but in practice we can often get away with <code>name=value</code>.
And for Boolean attributes whose values are just true or false,
we can even sometimes just get away with <code>name</code> on its own.</p>
<p>Headings and paragraphs are all very well,
but data scientists need more.
To create an unordered (bulleted) list,
we use a <code>ul</code> element,
and wrap each item inside the list in <code>li</code>.
To create an ordered (numbered) list,
we use <code>ol</code> instead of <code>ul</code>,
but still use <code>li</code> for the list items.</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>first<span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>second<span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>third<span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">ol</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>first<span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>second<span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>third<span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">ol</span><span class="p">&gt;</span>
</code></pre></div>
<p>Lists can be nested by putting the inner list's <code>ul</code> or <code>ol</code>
inside one of the outer list's <code>li</code> elements.</p>
<p>Unsurprisingly,
we use the <code>table</code> element to create these.
Each row is a <code>tr</code> (for <code>table row''),
and within rows,
column items are shown with `td` (for</code>table data'')
or <code>th</code> (for ``table heading'').</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">table</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;</span> <span class="p">&lt;</span><span class="nt">th</span><span class="p">&gt;</span>Alkali<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>   <span class="p">&lt;</span><span class="nt">th</span><span class="p">&gt;</span>Noble Gas<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span> <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;</span> <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>Hydrogen<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span> <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>Helium<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>    <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;</span> <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>Lithium<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>  <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>Neon<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>      <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;</span> <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>Sodium<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>   <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>Argon<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>     <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">table</span><span class="p">&gt;</span>
</code></pre></div>
<p>Links to other pages are what make HTML hypertext.
Confusingly,
the element used to show a link is called <code>a</code>.
The text inside the element is displayed and (usually) highlighted for clicking.
Its <code>href</code> attribute specifies what the link is pointing at;
both local filenames and URLs are supported.
Oh,
and we can use <code>&lt;br/&gt;</code> to force a line break in text
(with a trailing slash inside the tag, since the <code>br</code> element doesn't contain any content):</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;https://nodejs.org/&quot;</span><span class="p">&gt;</span>Node.js<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">br</span><span class="p">/&gt;</span>
<span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;https://facebook.github.io/react/&quot;</span><span class="p">&gt;</span>React<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">br</span><span class="p">/&gt;</span>
<span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;../index.html&quot;</span><span class="p">&gt;</span>home page (relative path)<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</code></pre></div>
<p>Images can be stored directly inside HTML pages by embedding SVG
or by encoding the image as text and including that text in the body of the page.
The first is hard to edit,
since most text editors don't allow you to draw,
while the second is both hard to edit and impossible to read.</p>
<p>It is far more common to store each image in a separate file
and refer to that file using an <code>img</code> element
(which also allows us to use the image in many places without copying it).
The <code>src</code> attribute of the <code>img</code> tag specifies where to find the file;
as with the <code>href</code> attribute of an <code>a</code> element,
this can be either a URL or a local path.
Every <code>img</code> should also include a <code>title</code> attribute (whose purpose is self-explanatory)
and an <code>alt</code> attribute with some descriptive text to aid accessibility and search engines.
(Again, we have wrapped and broken lines so that they will display nicely in the printed version.)</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">img</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;./img/logo.png&quot;</span> <span class="na">title</span><span class="o">=</span><span class="s">&quot;Book Logo&quot;</span>
     <span class="na">alt</span><span class="o">=</span><span class="s">&quot;Displays the book logo using a local path&quot;</span> <span class="p">/&gt;</span>
<span class="p">&lt;</span><span class="nt">img</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://third-bit.com/sd4ds/img/logo.png&quot;</span>
     <span class="na">title</span><span class="o">=</span><span class="s">&quot;Book Logo&quot;</span>
     <span class="na">alt</span><span class="o">=</span><span class="s">&quot;Display the book logo using a URL&quot;</span> <span class="p">/&gt;</span>
</code></pre></div>
<p>Two things to note here are:</p>
<ol>
<li>
<p>Since <code>img</code> elements don't contain any text,
    they are often written with the trailing-slash notation,
    or as <code>&lt;img src="..."&gt;</code> without any slashes at all.</p>
</li>
<li>
<p>If an image file is referred to using a path rather than a URL,
    that path can be either relative
    or absolute.
    If it's a relative path,
    it's interpreted starting from where the web page is located;
    if it's an absolute path,
    it's interpreted relative to wherever the web browser thinks
    the root directory of the filesystem is.</p>
</li>
</ol>
<p>When HTML first appeared, people styled elements by setting their attributes:</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">h1</span> <span class="na">align</span><span class="o">=</span><span class="s">&quot;center&quot;</span><span class="p">&gt;</span>Heading is Centered<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">b</span><span class="p">&gt;</span>Text<span class="p">&lt;/</span><span class="nt">b</span><span class="p">&gt;</span> can be highlighted
      or <span class="p">&lt;</span><span class="nt">font</span> <span class="na">color</span><span class="o">=</span><span class="s">&quot;coral&quot;</span><span class="p">&gt;</span>colorized<span class="p">&lt;/</span><span class="nt">font</span><span class="p">&gt;</span>.
    <span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</code></pre></div>
<p>Many still do,
but a better way is to use Cascading Style Sheets (CSS).
These allow us to define a style once and use it many times,
which makes it much easier to maintain consistency.
Here's a page that uses CSS instead of direct styling:</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;simple-style.css&quot;</span> <span class="p">/&gt;</span>
  <span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">h1</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;title&quot;</span><span class="p">&gt;</span>Heading is Centered<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;keyword&quot;</span><span class="p">&gt;</span>Text<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span> can be highlighted
      or <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;highlight&quot;</span><span class="p">&gt;</span>colorized<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>.
    <span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</code></pre></div>
<p>The <code>head</code> contains a link to an external style sheet
stored in the same directory as the page itself;
we could use a URL here instead of a relative path,
but the <code>link</code> element <em>must</em> have the <code>rel="stylesheet"</code> attribute.
Inside the page,
we then set the <code>class</code> attribute of each element we want to style.</p>
<p>The file <code>simple-style.css</code> looks like this:</p>
<div class="highlight"><pre><span></span><code><span class="nt">h1</span><span class="p">.</span><span class="nc">title</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="k">text-align</span><span class="p">:</span><span class="w"> </span><span class="kc">center</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
<span class="nt">span</span><span class="p">.</span><span class="nc">keyword</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="k">font-weight</span><span class="p">:</span><span class="w"> </span><span class="kc">bold</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
<span class="p">.</span><span class="nc">highlight</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="kc">coral</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<p class="continue">Each entry has the form <code>tag.class</code> followed by a group of properties inside curly braces,
and each property is a key-value pair.
We can omit the class and just write (for example):</p>
<div class="highlight"><pre><span></span><code><span class="nt">p</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="k">font-style</span><span class="p">:</span><span class="w"> </span><span class="kc">italic</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<p class="continue">in which case the style applies to everything with that tag.
If we do this,
we can override general rules with specific ones:
the style for a disclaimer paragraph is defined by <code>p</code> with overrides defined by <code>p.disclaimer</code>.
We can also omit the tag and simply use <code>.class</code>,
in which case every element with that class has that style.</p>
<p>Elements may have multiple values for class,
as in <code>&lt;span class="keyword highlight"&gt;…&lt;/span&gt;</code>.
(The <code>span</code> element simply marks a region of text,
but has no effect unless it's styled.)</p>
<p>One other thing CSS can do is match specific elements.
We can label particular elements uniquely within a page using the <code>id</code> attribute,
then refer to those elements using <code>#name</code> as a selector.
For example,
if we create a page that gives two spans unique IDs:</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;selector-style.css&quot;</span> <span class="p">/&gt;</span>
  <span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>
      First <span class="p">&lt;</span><span class="nt">span</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;major&quot;</span><span class="p">&gt;</span>keyword<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>.
    <span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>
      Full <span class="p">&lt;</span><span class="nt">span</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;minor&quot;</span><span class="p">&gt;</span>explanation<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>.
    <span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</code></pre></div>
<p class="continue">then we can style those spans like this:</p>
<div class="highlight"><pre><span></span><code><span class="nt">span</span><span class="p">#</span><span class="nn">major</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="k">text-decoration</span><span class="p">:</span><span class="w"> </span><span class="kc">underline</span><span class="w"> </span><span class="kc">red</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
<span class="nt">span</span><span class="p">#</span><span class="nn">minor</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="k">text-decoration</span><span class="p">:</span><span class="w"> </span><span class="kc">overline</span><span class="w"> </span><span class="kc">blue</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<div class="callout">
<h3>Internal Links</h3>
<p>We can link to an element in a page using <code>#name</code>
inside the link's <code>href</code>:
for example,
<code>&lt;a href="page.html#place"&gt;text&lt;/a&gt;</code>
refers to the <code>#place</code> element in <code>page.html</code>.
This is particularly useful <em>within</em> pages:
<code>&lt;a href="#place"&gt;jump&lt;/a&gt;</code>
takes us straight to the <code>#place</code> element within this page.
Internal links like this are often used for cross-referencing and to create a table of contents.</p>
</div>
<h2 id="scraper-search">Section 4.2: Searching HTML</h2>
<ul>
<li>Use <a href="https://www.crummy.com/software/BeautifulSoup/">Beautiful Soup</a> to read HTML pages</li>
<li>It produces a tree of nodes<ul>
<li>Every node is either an element or some text</li>
<li>Nodes have attributes</li>
</ul>
</li>
<li>Our first few examples will use "pages" that are strings in the files<ul>
<li>We'll use fragments rather than full pages</li>
</ul>
</li>
<li>A paragraph containing some bold text and a link</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

<span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;&lt;p&gt;&lt;strong&gt;RNA&lt;/strong&gt; (n.):</span>
<span class="s2">&lt;a href=&quot;https://en.wikipedia.org/wiki/RNA&quot;&gt;ribonucleic acid&lt;/a&gt;.&quot;&quot;&quot;</span>

<span class="n">doc</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="s2">&quot;html.parser&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;type(doc) </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--------&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">doc</span><span class="o">.</span><span class="n">contents</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--------&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">child</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">doc</span><span class="o">.</span><span class="n">contents</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">contents</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">:[</span><span class="si">{</span><span class="n">child</span><span class="si">}</span><span class="s2">]&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>type(doc) &lt;class &#39;bs4.BeautifulSoup&#39;&gt;
--------
&lt;p&gt;&lt;strong&gt;RNA&lt;/strong&gt; (n.):
&lt;a href=&quot;https://en.wikipedia.org/wiki/RNA&quot;&gt;ribonucleic acid&lt;/a&gt;.&lt;/p&gt;
--------
0:[&lt;strong&gt;RNA&lt;/strong&gt;]
1:[ (n.):
]
2:[&lt;a href=&quot;https://en.wikipedia.org/wiki/RNA&quot;&gt;ribonucleic acid&lt;/a&gt;]
3:[.]
</code></pre></div>
<ul>
<li>We have to specify the low-level parser (we use <code>html.parser</code> from the Python standard library)</li>
<li>We get a document with one child, which is our paragraph</li>
<li>
<p>It has four children:</p>
<ul>
<li>The <code>strong</code> node</li>
<li>The text between nodes</li>
<li>The link</li>
<li>The trailing text</li>
</ul>
</li>
<li>
<p>If a node only contains text, <code>.string</code> gets that text</p>
</li>
<li>We can search with <code>find</code> to get one node</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

<span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;&lt;p id=&quot;nematode&quot;&gt;C. elegans&lt;/p&gt;</span>
<span class="s2">&lt;p id=&quot;zebrafish&quot;&gt;D. rerio&lt;/p&gt;</span>
<span class="s2">&lt;p id=&quot;fruitfly&quot;&gt;D. melanogaster&lt;/p&gt;</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="n">doc</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="s2">&quot;html.parser&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">doc</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s2">&quot;zebrafish&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">string</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>D. rerio
</code></pre></div>
<ul>
<li>We can use <code>find_all</code> to get all matching nodes at any depth</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

<span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;&lt;p&gt;Genes:&lt;/p&gt;</span>
<span class="s2">&lt;ul&gt;</span>
<span class="s2">&lt;li class=&quot;gene&quot;&gt;Indy&lt;/li&gt;</span>
<span class="s2">&lt;li class=&quot;gene&quot;&gt;Tinman&lt;/li&gt;</span>
<span class="s2">&lt;li class=&quot;category&quot;&gt;Halloween genes:</span>
<span class="s2">  &lt;ul&gt;</span>
<span class="s2">  &lt;li class=&quot;gene&quot;&gt;Mummy&lt;/li&gt;</span>
<span class="s2">  &lt;li class=&quot;gene&quot;&gt;Phantom&lt;/li&gt;</span>
<span class="s2">  &lt;/ul&gt;</span>
<span class="s2">&lt;/li&gt;</span>
<span class="s2">&lt;/ul&gt;</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="n">doc</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="s2">&quot;html.parser&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">doc</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s2">&quot;li&quot;</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;----&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">doc</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s2">&quot;li&quot;</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;gene&quot;</span><span class="p">}):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">string</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>&lt;li class=&quot;gene&quot;&gt;Indy&lt;/li&gt;
&lt;li class=&quot;gene&quot;&gt;Tinman&lt;/li&gt;
&lt;li class=&quot;category&quot;&gt;Halloween genes:
  &lt;ul&gt;
&lt;li class=&quot;gene&quot;&gt;Mummy&lt;/li&gt;
&lt;li class=&quot;gene&quot;&gt;Phantom&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li class=&quot;gene&quot;&gt;Mummy&lt;/li&gt;
&lt;li class=&quot;gene&quot;&gt;Phantom&lt;/li&gt;
----
Indy
Tinman
Mummy
Phantom
</code></pre></div>
<h2 id="scraper-requests">Section 4.3: Getting Pages</h2>
<ul>
<li>Use the <a href="https://docs.python-requests.org/">requests</a> library</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;https://gvwilson.github.io/sd4ds/table.html&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;status code: </span><span class="si">{</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;len(text): </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>status code: 200
len(text): 69890
</code></pre></div>
<ul>
<li>Parse the result and look for items</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>
<span class="kn">import</span> <span class="nn">requests</span>

<span class="n">NUM_YEARS</span> <span class="o">=</span> <span class="mi">5</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;https://gvwilson.github.io/sd4ds/table.html&quot;</span><span class="p">)</span>
<span class="n">doc</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="s2">&quot;html.parser&quot;</span><span class="p">)</span>

<span class="n">results</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">row</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">doc</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s2">&quot;tr&quot;</span><span class="p">)):</span>
    <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">continue</span>
    <span class="n">items</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">row</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s2">&quot;td&quot;</span><span class="p">))</span>
    <span class="k">if</span> <span class="s2">&quot;</span><span class="si">%G</span><span class="s2">DP&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">items</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">:</span>
        <span class="k">continue</span>
    <span class="n">country</span> <span class="o">=</span> <span class="n">items</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="n">average</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">([</span><span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">text</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">items</span><span class="p">[</span><span class="mi">2</span><span class="p">:(</span><span class="mi">2</span><span class="o">+</span><span class="n">NUM_YEARS</span><span class="p">)]])</span> <span class="o">/</span> <span class="n">NUM_YEARS</span>
    <span class="n">results</span><span class="p">[</span><span class="n">country</span><span class="p">]</span> <span class="o">=</span> <span class="n">average</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Country,Average Health Care Spending (%GDP)&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">average</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">results</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">,</span><span class="si">{</span><span class="n">average</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>Country,Average Health Care Spending (%GDP)
Afghanistan,12.4
Albania,4.0
Algeria,6.4
Andorra,6.6
Angola,3.0
Antigua and Barbuda,4.8
Argentina,9.8
Armenia,10.2
Australia,9.2
Austria,10.0
Azerbaijan,4.0
Bahamas,6.0
Bahrain,4.6
Bangladesh,2.4
Barbados,6.8
Belarus,6.0
Belgium,10.8
Belize,6.0
Benin,2.8
Bhutan,3.6
Bolivia Plurinational States of,6.8
Bosnia and Herzegovina,9.0
Botswana,6.0
Brazil,9.2
Brunei Darussalam,2.2
Bulgaria,7.2
Burkina Faso,5.4
Burundi,7.6
Cabo Verde Republic of,5.0
Cambodia,6.2
Cameroon,3.6
Canada,11.0
Central African Republic,7.2
Chad,4.6
Chile,8.8
China,5.0
Colombia,8.0
Comoros,5.0
Congo,2.4
Cook Islands,3.0
Costa Rica,7.2
Croatia,7.0
Cuba,11.6
Cyprus,7.0
Czech Republic,7.4
Côte d&#39;Ivoire,3.0
Democratic Republic of the Congo,3.8
Denmark,10.0
Djibouti,2.4
Dominica,5.2
Dominican Republic,6.0
Ecuador,7.4
Egypt,5.2
El Salvador,7.8
Equatorial Guinea,3.0
Eritrea,4.0
Estonia,6.6
Eswatini,7.0
Ethiopia,3.4
Fiji,3.2
Finland,9.2
France,11.0
Gabon,3.0
Gambia,4.0
Georgia,7.2
Germany,11.2
Ghana,3.4
Greece,8.0
Grenada,4.8
Guatemala,6.0
Guinea,4.6
Guinea-Bissau,7.8
Guyana,4.4
Haiti,5.0
Honduras,7.2
Hungary,6.8
Iceland,8.2
India,3.4
Indonesia,3.0
Iran,8.0
Iraq,3.6
Ireland,7.0
Israel,7.2
Italy,9.0
Jamaica,6.0
Japan,11.0
Jordan,7.6
Kazakhstan,3.0
Kenya,4.6
Kiribati,10.0
Kuwait,4.8
Kyrgyzstan,5.6
Lao People&#39;s Democratic Republic,2.4
Latvia,6.2
Lebanon,8.2
Lesotho,10.0
Liberia,9.4
Lithuania,6.6
Luxembourg,5.0
Madagascar,4.6
Malawi,9.6
Malaysia,4.0
Maldives,8.8
Mali,4.0
Malta,8.8
Marshall Islands,16.6
Mauritania,3.4
Mauritius,6.0
Mexico,5.4
Micronesia (Federated States of),12.0
Monaco,2.0
Mongolia,4.0
Montenegro,8.4
Morocco,5.0
Mozambique,7.6
Myanmar,5.0
Namibia,8.8
Nauru,11.2
Nepal,4.8
Netherlands,10.0
New Zealand,9.2
Nicaragua,8.2
Niger,5.4
Nigeria,3.6
Niue,7.8
Norway,10.4
Oman,4.0
Pakistan,3.0
Palau,12.2
Panama,7.2
Papua New Guinea,2.0
Paraguay,7.0
Peru,5.0
Philippines,4.0
Poland,6.4
Portugal,9.2
Qatar,3.0
Republic of Korea,7.4
Republic of Moldova,7.4
Romania,5.4
Russian Federation,5.2
Rwanda,6.6
Saint Kitts and Nevis,5.4
Saint Lucia,4.6
Saint Vincent and the Grenadines,4.4
Samoa,5.6
San Marino,6.8
Sao Tome and Principe,5.8
Saudi Arabia,6.0
Senegal,4.0
Serbia,8.6
Seychelles,5.0
Sierra Leone,12.6
Singapore,4.0
Slovakia,7.0
Slovenia,8.2
Solomon Islands,4.6
South Africa,9.0
South Sudan,4.0
Spain,9.0
Sri Lanka,4.0
Sudan,5.4
Suriname,7.2
Sweden,11.0
Switzerland,11.0
Tajikistan,7.0
Thailand,4.0
The Republic of North Macedonia,6.6
Timor-Leste,7.4
Togo,5.6
Tonga,5.0
Trinidad and Tobago,6.8
Tunisia,7.0
Turkmenistan,6.8
Tuvalu,18.6
Türkiye,4.0
Uganda,4.4
Ukraine,7.6
United Arab Emirates,3.8
United Kingdom,10.0
United Republic of Tanzania,4.0
United States of America,17.0
Uruguay,8.8
Uzbekistan,5.2
Vanuatu,3.2
Venezuela (Bolivarian Republic of),4.6
Viet Nam,5.0
Yemen,0.8
Zambia,4.4
Zimbabwe,7.8
</code></pre></div>
<p>{% excerpt</p>
<h2 id="scraper-exercises">Section 4.4: Exercises</h2>
<h3 class="exercise">Cutting Corners</h3>
<p>What does your browser display if you forget to close a paragraph or list item tag
like this:</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>This paragraph starts but doesn&#39;t officially end.

<span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>Another paragraph starts here but also doesn&#39;t end.

<span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>First item in the list isn&#39;t closed.
  <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>Neither is the second.
<span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
</code></pre></div>
<h3 class="exercise">Mix and Match</h3>
<ol>
<li>
<p>Create a page that contains a 2×2 table,
    each cell of which has a three-item bullet-point list.
    How can you reduce the indentation of the list items within their cells using CSS?</p>
</li>
<li>
<p>Open your page in a different browser (e.g., Firefox or Edge).
    Do they display your indented lists consistently?</p>
</li>
</ol>
<h3 class="exercise">Color</h3>
<p>HTML and CSS define names for a small number of colors.
All other colors must be specified using RGB values.
Write a small program that creates an HTML page
that displays the word <code>color</code> in 100 different randomly-generated colors.</p>
        </main>
      </div>
    </div>
  </body>
</html>
